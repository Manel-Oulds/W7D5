  [1m[35m (93.3ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_development" ENCODING = 'unicode'[0m
  [1m[35m (36.9ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_test" ENCODING = 'unicode'[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230616143913)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "session_token" character varying NOT NULL, "password_digest" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230616143913"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-16 14:41:09.218237"], ["updated_at", "2023-06-16 14:41:09.218237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users" for ::1 at 2023-06-16 11:34:01 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_logged_in rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 2.8ms | Allocations: 5389)


Started GET "/session/new" for ::1 at 2023-06-16 11:34:02 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 317)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 11415)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 15508)



NoMethodError - undefined method `now' for nil:NilClass:
  app/views/layouts/application.html.erb:14
  app/controllers/sessions_controller.rb:4:in `new'

Started POST "/__better_errors/7395211a5a3b4e24/variables" for ::1 at 2023-06-16 11:34:02 -0400
Started GET "/session/new" for ::1 at 2023-06-16 11:34:25 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 5478)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 6241)



NoMethodError - undefined method `each' for nil:NilClass:
  app/views/layouts/application.html.erb:14
  app/controllers/sessions_controller.rb:4:in `new'

Started POST "/__better_errors/3b9022391f1fe3d7/variables" for ::1 at 2023-06-16 11:34:25 -0400
Started GET "/session/new" for ::1 at 2023-06-16 11:35:07 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 99)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 1966)
Completed 200 OK in 27ms (Views: 27.0ms | ActiveRecord: 0.0ms | Allocations: 2780)


Started GET "/index" for ::1 at 2023-06-16 11:35:50 -0400
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/users" for ::1 at 2023-06-16 11:35:53 -0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_logged_in rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1517)


Started GET "/session/new" for ::1 at 2023-06-16 11:35:53 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 1589)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms | Allocations: 1824)


Started GET "/users" for ::1 at 2023-06-16 11:36:02 -0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_logged_in rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1275)


Started GET "/session/new" for ::1 at 2023-06-16 11:36:02 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 1489)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 1693)


Started GET "/session/new" for ::1 at 2023-06-16 11:37:25 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 96)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2044)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 2811)


Started GET "/session/new" for ::1 at 2023-06-16 11:37:26 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 1471)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 1696)


Started GET "/users" for ::1 at 2023-06-16 11:37:31 -0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_logged_in rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1385)


Started GET "/session/new" for ::1 at 2023-06-16 11:37:31 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 1492)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 1696)


Started GET "/users/index" for ::1 at 2023-06-16 11:37:49 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_logged_in rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1272)


Started GET "/session/new" for ::1 at 2023-06-16 11:37:49 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 1474)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms | Allocations: 1678)


Started GET "/users" for ::1 at 2023-06-16 11:38:48 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 859)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2602)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms | Allocations: 4232)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Started GET "/users" for ::1 at 2023-06-16 11:39:21 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 560)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 2038)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.3ms | Allocations: 2290)


Started GET "/users" for ::1 at 2023-06-16 11:39:22 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 560)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2044)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.3ms | Allocations: 2278)


Started GET "/users" for ::1 at 2023-06-16 11:39:23 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2034)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.3ms | Allocations: 2264)


Started GET "/users" for ::1 at 2023-06-16 11:39:24 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 2007)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms | Allocations: 2237)


Started GET "/users" for ::1 at 2023-06-16 11:39:26 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 2049)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 2279)


Started GET "/users" for ::1 at 2023-06-16 11:39:27 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 2010)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.3ms | Allocations: 2240)


Started GET "/users" for ::1 at 2023-06-16 11:39:28 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 2004)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.3ms | Allocations: 2235)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Started GET "/users" for ::1 at 2023-06-16 11:48:12 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3680)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 5431)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 7.7ms | Allocations: 6958)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "session_token", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Coucou"], ["session_token", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["created_at", "2023-06-16 15:57:20.186118"], ["updated_at", "2023-06-16 15:57:20.186118"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucou"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucouu"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "session_token", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Coucouu"], ["session_token", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["created_at", "2023-06-16 15:58:17.843550"], ["updated_at", "2023-06-16 15:58:17.843550"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Coucouu"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Couucouu"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "session_token", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Couucouu"], ["session_token", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["created_at", "2023-06-16 15:59:42.220328"], ["updated_at", "2023-06-16 15:59:42.220328"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users" for ::1 at 2023-06-16 11:59:57 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 8071)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 9820)
Completed 200 OK in 24ms (Views: 23.1ms | ActiveRecord: 12.4ms | Allocations: 11370)


Started GET "/users" for ::1 at 2023-06-16 12:00:01 -0400
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/users/index.html.erb:2
  Rendered users/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 655)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2138)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms | Allocations: 2410)


Started GET "/users/new" for ::1 at 2023-06-16 12:05:44 -0400
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 289)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1679)
Completed 200 OK in 22ms (Views: 5.6ms | ActiveRecord: 5.4ms | Allocations: 6729)


Started POST "/users" for ::1 at 2023-06-16 12:05:52 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"Manel", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Manel"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "session_token", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Manel"], ["session_token", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["created_at", "2023-06-16 16:05:53.218329"], ["updated_at", "2023-06-16 16:05:53.218329"]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Completed 500 Internal Server Error in 292ms (ActiveRecord: 3.2ms | Allocations: 10750)



NoMethodError - undefined method `reset_session_token' for nil:NilClass
        session[:session_token] = current_user.reset_session_token
                                              ^^^^^^^^^^^^^^^^^^^^:
  app/controllers/application_controller.rb:11:in `login'
  app/controllers/users_controller.rb:16:in `create'

Started POST "/__better_errors/53303f9d63dc396d/variables" for ::1 at 2023-06-16 12:05:53 -0400
Started POST "/users" for ::1 at 2023-06-16 12:06:43 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"Manel", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Manel"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:15:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 105)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1256)
Completed 200 OK in 258ms (Views: 2.3ms | ActiveRecord: 8.0ms | Allocations: 11011)


Started POST "/users" for ::1 at 2023-06-16 12:06:46 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"Manel", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Manel"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:15:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1007)
Completed 200 OK in 288ms (Views: 1.3ms | ActiveRecord: 1.0ms | Allocations: 6983)


Started POST "/users" for ::1 at 2023-06-16 12:06:47 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"Manel", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Manel"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:15:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 57)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1013)
Completed 200 OK in 293ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 6712)


Started POST "/users" for ::1 at 2023-06-16 12:06:49 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"Manel", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Manel"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:15:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1007)
Completed 200 OK in 290ms (Views: 1.2ms | ActiveRecord: 0.9ms | Allocations: 6699)


Started POST "/users" for ::1 at 2023-06-16 12:06:53 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"Manelll", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Manelll"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "session_token", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Manelll"], ["session_token", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["created_at", "2023-06-16 16:06:53.328995"], ["updated_at", "2023-06-16 16:06:53.328995"]]
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:15:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:32:in `block in generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:44:in `reset_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "Manelll"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:44:in `reset_session_token'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:44:in `reset_session_token'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2023-06-16 16:06:53.333428"], ["id", 5]]
  â†³ app/models/user.rb:44:in `reset_session_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:44:in `reset_session_token'
Redirected to http://localhost:3000/users/5
Completed 302 Found in 293ms (ActiveRecord: 3.2ms | Allocations: 9311)


Started GET "/users/5" for ::1 at 2023-06-16 12:06:53 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 93)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1048)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 4219)


Started GET "/users/5" for ::1 at 2023-06-16 12:10:18 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 125)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1529)
Completed 200 OK in 10ms (Views: 2.1ms | ActiveRecord: 4.1ms | Allocations: 8259)


Started GET "/users/5" for ::1 at 2023-06-16 12:13:27 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 5730)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 5818)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.8ms | Allocations: 8201)



NameError - uninitialized constant #<Class:0x000000010997fdd8>::DELETE:
  app/views/users/show.html.erb:4
  app/controllers/users_controller.rb:26:in `show'

Started POST "/__better_errors/7147bd73c240613b/variables" for ::1 at 2023-06-16 12:13:27 -0400
Started GET "/users/5" for ::1 at 2023-06-16 12:13:46 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 5685)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 5773)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.8ms | Allocations: 8148)



NameError - uninitialized constant #<Class:0x000000010870ffb8>::DELETE:
  app/views/users/show.html.erb:4
  app/controllers/users_controller.rb:26:in `show'

Started POST "/__better_errors/1a7d3c5539b07be6/variables" for ::1 at 2023-06-16 12:13:46 -0400
Started GET "/users/5" for ::1 at 2023-06-16 12:13:47 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 5473)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 5552)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 7369)



NameError - uninitialized constant #<Class:0x000000010870ffb8>::DELETE:
  app/views/users/show.html.erb:4
  app/controllers/users_controller.rb:26:in `show'

Started POST "/__better_errors/348db105b26a8598/variables" for ::1 at 2023-06-16 12:13:48 -0400
Started GET "/users/5" for ::1 at 2023-06-16 12:14:09 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 5689)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5777)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms | Allocations: 8027)



NameError - uninitialized constant #<Class:0x0000000107f050c0>::DELETE:
  app/views/users/show.html.erb:4
  app/controllers/users_controller.rb:26:in `show'

Started POST "/__better_errors/607c7211f2058676/variables" for ::1 at 2023-06-16 12:14:09 -0400
Started GET "/users/5" for ::1 at 2023-06-16 12:14:41 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 5671)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5759)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.4ms | Allocations: 8135)



NameError - uninitialized constant #<Class:0x0000000108dcc360>::Out:
  app/views/users/show.html.erb:5
  app/controllers/users_controller.rb:26:in `show'

Started POST "/__better_errors/96f2eca37a979201/variables" for ::1 at 2023-06-16 12:14:41 -0400
Started GET "/users/5" for ::1 at 2023-06-16 12:14:42 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 5474)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 5553)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 7370)



NameError - uninitialized constant #<Class:0x0000000108dcc360>::Out:
  app/views/users/show.html.erb:5
  app/controllers/users_controller.rb:26:in `show'

Started POST "/__better_errors/453dbb36b4bf8010/variables" for ::1 at 2023-06-16 12:14:42 -0400
Started GET "/users/5" for ::1 at 2023-06-16 12:15:09 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 1596)
Completed 200 OK in 16ms (Views: 8.8ms | ActiveRecord: 0.8ms | Allocations: 3877)


Started DELETE "/session" for ::1 at 2023-06-16 12:15:11 -0400
Processing by SessionsController#destroy as HTML
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 993)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/a021213723f13f1e/variables" for ::1 at 2023-06-16 12:15:11 -0400
Started DELETE "/session" for ::1 at 2023-06-16 12:16:07 -0400
Processing by SessionsController#destroy as HTML
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 900)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/7a79b1b8c423aef5/variables" for ::1 at 2023-06-16 12:16:07 -0400
Started DELETE "/session" for ::1 at 2023-06-16 12:18:33 -0400
Processing by SessionsController#destroy as HTML
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 900)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/9874a867354e7cda/variables" for ::1 at 2023-06-16 12:18:33 -0400
Started DELETE "/session" for ::1 at 2023-06-16 12:19:09 -0400
Processing by SessionsController#destroy as HTML
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 900)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/732c61ccdd962b00/variables" for ::1 at 2023-06-16 12:19:10 -0400
Started GET "/session/new" for ::1 at 2023-06-16 12:19:38 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 101)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 2073)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 2911)


Started GET "/session/new" for ::1 at 2023-06-16 12:19:41 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 1463)
Completed 200 OK in 18ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 1684)


Started GET "/session/new" for ::1 at 2023-06-16 12:19:44 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 1470)
Completed 200 OK in 26ms (Views: 25.6ms | ActiveRecord: 0.0ms | Allocations: 1675)


Started GET "/session" for ::1 at 2023-06-16 12:19:47 -0400
  
ActionController::RoutingError (No route matches [GET] "/session"):
  
Started GET "/users/new" for ::1 at 2023-06-16 12:19:59 -0400
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_logged_out rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1270)


Started GET "/session/new" for ::1 at 2023-06-16 12:19:59 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1475)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 1679)


Started GET "/users/show" for ::1 at 2023-06-16 12:20:12 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"show"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
Completed 404 Not Found in 5ms (ActiveRecord: 0.4ms | Allocations: 2329)



ActiveRecord::RecordNotFound - Couldn't find User with 'id'=show:
  app/controllers/users_controller.rb:25:in `show'

Started POST "/__better_errors/8daef5598ffa933e/variables" for ::1 at 2023-06-16 12:20:12 -0400
Started GET "/users/1" for ::1 at 2023-06-16 12:20:27 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:25:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 247)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 1398)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.4ms | Allocations: 3417)


Started DELETE "/session" for ::1 at 2023-06-16 12:20:30 -0400
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 2201)



NoMethodError - undefined method `log_out' for nil:NilClass
        @current_user.log_out
                     ^^^^^^^^:
  app/controllers/sessions_controller.rb:22:in `destroy'

Started POST "/__better_errors/18392af1ecac75f2/variables" for ::1 at 2023-06-16 12:20:30 -0400
